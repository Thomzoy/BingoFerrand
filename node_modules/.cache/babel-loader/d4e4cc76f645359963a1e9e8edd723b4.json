{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.string.replace.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.set.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.function.name.js\");\n\nrequire(\"core-js/modules/es.string.substr.js\");\n\nrequire(\"core-js/modules/es.regexp.test.js\");\n\nrequire(\"core-js/modules/es.regexp.constructor.js\");\n\nrequire(\"core-js/modules/es.regexp.dot-all.js\");\n\nrequire(\"core-js/modules/es.regexp.sticky.js\");\n\nrequire(\"core-js/modules/es.regexp.to-string.js\");\n\nrequire(\"core-js/modules/es.string.starts-with.js\");\n\nrequire(\"core-js/modules/es.string.ends-with.js\");\n\nrequire(\"core-js/modules/es.array.includes.js\");\n\nrequire(\"core-js/modules/es.string.includes.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.attributeRules = void 0;\n\nvar boolbase_1 = require(\"boolbase\");\n/**\n * All reserved characters in a regex, used for escaping.\n *\n * Taken from XRegExp, (c) 2007-2020 Steven Levithan under the MIT license\n * https://github.com/slevithan/xregexp/blob/95eeebeb8fac8754d54eafe2b4743661ac1cf028/src/xregexp.js#L794\n */\n\n\nvar reChars = /[-[\\]{}()*+?.,\\\\^$|#\\s]/g;\n\nfunction escapeRegex(value) {\n  return value.replace(reChars, \"\\\\$&\");\n}\n/**\n * Attributes that are case-insensitive in HTML.\n *\n * @private\n * @see https://html.spec.whatwg.org/multipage/semantics-other.html#case-sensitivity-of-selectors\n */\n\n\nvar caseInsensitiveAttributes = new Set([\"accept\", \"accept-charset\", \"align\", \"alink\", \"axis\", \"bgcolor\", \"charset\", \"checked\", \"clear\", \"codetype\", \"color\", \"compact\", \"declare\", \"defer\", \"dir\", \"direction\", \"disabled\", \"enctype\", \"face\", \"frame\", \"hreflang\", \"http-equiv\", \"lang\", \"language\", \"link\", \"media\", \"method\", \"multiple\", \"nohref\", \"noresize\", \"noshade\", \"nowrap\", \"readonly\", \"rel\", \"rev\", \"rules\", \"scope\", \"scrolling\", \"selected\", \"shape\", \"target\", \"text\", \"type\", \"valign\", \"valuetype\", \"vlink\"]);\n\nfunction shouldIgnoreCase(selector, options) {\n  return typeof selector.ignoreCase === \"boolean\" ? selector.ignoreCase : selector.ignoreCase === \"quirks\" ? !!options.quirksMode : !options.xmlMode && caseInsensitiveAttributes.has(selector.name);\n}\n/**\n * Attribute selectors\n */\n\n\nexports.attributeRules = {\n  equals: function equals(next, data, options) {\n    var adapter = options.adapter;\n    var name = data.name;\n    var value = data.value;\n\n    if (shouldIgnoreCase(data, options)) {\n      value = value.toLowerCase();\n      return function (elem) {\n        var attr = adapter.getAttributeValue(elem, name);\n        return attr != null && attr.length === value.length && attr.toLowerCase() === value && next(elem);\n      };\n    }\n\n    return function (elem) {\n      return adapter.getAttributeValue(elem, name) === value && next(elem);\n    };\n  },\n  hyphen: function hyphen(next, data, options) {\n    var adapter = options.adapter;\n    var name = data.name;\n    var value = data.value;\n    var len = value.length;\n\n    if (shouldIgnoreCase(data, options)) {\n      value = value.toLowerCase();\n      return function hyphenIC(elem) {\n        var attr = adapter.getAttributeValue(elem, name);\n        return attr != null && (attr.length === len || attr.charAt(len) === \"-\") && attr.substr(0, len).toLowerCase() === value && next(elem);\n      };\n    }\n\n    return function hyphen(elem) {\n      var attr = adapter.getAttributeValue(elem, name);\n      return attr != null && (attr.length === len || attr.charAt(len) === \"-\") && attr.substr(0, len) === value && next(elem);\n    };\n  },\n  element: function element(next, data, options) {\n    var adapter = options.adapter;\n    var name = data.name,\n        value = data.value;\n\n    if (/\\s/.test(value)) {\n      return boolbase_1.falseFunc;\n    }\n\n    var regex = new RegExp(\"(?:^|\\\\s)\".concat(escapeRegex(value), \"(?:$|\\\\s)\"), shouldIgnoreCase(data, options) ? \"i\" : \"\");\n    return function element(elem) {\n      var attr = adapter.getAttributeValue(elem, name);\n      return attr != null && attr.length >= value.length && regex.test(attr) && next(elem);\n    };\n  },\n  exists: function exists(next, _a, _b) {\n    var name = _a.name;\n    var adapter = _b.adapter;\n    return function (elem) {\n      return adapter.hasAttrib(elem, name) && next(elem);\n    };\n  },\n  start: function start(next, data, options) {\n    var adapter = options.adapter;\n    var name = data.name;\n    var value = data.value;\n    var len = value.length;\n\n    if (len === 0) {\n      return boolbase_1.falseFunc;\n    }\n\n    if (shouldIgnoreCase(data, options)) {\n      value = value.toLowerCase();\n      return function (elem) {\n        var attr = adapter.getAttributeValue(elem, name);\n        return attr != null && attr.length >= len && attr.substr(0, len).toLowerCase() === value && next(elem);\n      };\n    }\n\n    return function (elem) {\n      var _a;\n\n      return !!((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.startsWith(value)) && next(elem);\n    };\n  },\n  end: function end(next, data, options) {\n    var adapter = options.adapter;\n    var name = data.name;\n    var value = data.value;\n    var len = -value.length;\n\n    if (len === 0) {\n      return boolbase_1.falseFunc;\n    }\n\n    if (shouldIgnoreCase(data, options)) {\n      value = value.toLowerCase();\n      return function (elem) {\n        var _a;\n\n        return ((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.substr(len).toLowerCase()) === value && next(elem);\n      };\n    }\n\n    return function (elem) {\n      var _a;\n\n      return !!((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.endsWith(value)) && next(elem);\n    };\n  },\n  any: function any(next, data, options) {\n    var adapter = options.adapter;\n    var name = data.name,\n        value = data.value;\n\n    if (value === \"\") {\n      return boolbase_1.falseFunc;\n    }\n\n    if (shouldIgnoreCase(data, options)) {\n      var regex_1 = new RegExp(escapeRegex(value), \"i\");\n      return function anyIC(elem) {\n        var attr = adapter.getAttributeValue(elem, name);\n        return attr != null && attr.length >= value.length && regex_1.test(attr) && next(elem);\n      };\n    }\n\n    return function (elem) {\n      var _a;\n\n      return !!((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.includes(value)) && next(elem);\n    };\n  },\n  not: function not(next, data, options) {\n    var adapter = options.adapter;\n    var name = data.name;\n    var value = data.value;\n\n    if (value === \"\") {\n      return function (elem) {\n        return !!adapter.getAttributeValue(elem, name) && next(elem);\n      };\n    } else if (shouldIgnoreCase(data, options)) {\n      value = value.toLowerCase();\n      return function (elem) {\n        var attr = adapter.getAttributeValue(elem, name);\n        return (attr == null || attr.length !== value.length || attr.toLowerCase() !== value) && next(elem);\n      };\n    }\n\n    return function (elem) {\n      return adapter.getAttributeValue(elem, name) !== value && next(elem);\n    };\n  }\n};","map":{"version":3,"sources":["/home/thomas/Code/BingoFerrand/node_modules/css-select/lib/attributes.js"],"names":["Object","defineProperty","exports","value","attributeRules","boolbase_1","require","reChars","escapeRegex","replace","caseInsensitiveAttributes","Set","shouldIgnoreCase","selector","options","ignoreCase","quirksMode","xmlMode","has","name","equals","next","data","adapter","toLowerCase","elem","attr","getAttributeValue","length","hyphen","len","hyphenIC","charAt","substr","element","test","falseFunc","regex","RegExp","concat","exists","_a","_b","hasAttrib","start","startsWith","end","endsWith","any","regex_1","anyIC","includes","not"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.attributeRules = void 0;\nvar boolbase_1 = require(\"boolbase\");\n/**\n * All reserved characters in a regex, used for escaping.\n *\n * Taken from XRegExp, (c) 2007-2020 Steven Levithan under the MIT license\n * https://github.com/slevithan/xregexp/blob/95eeebeb8fac8754d54eafe2b4743661ac1cf028/src/xregexp.js#L794\n */\nvar reChars = /[-[\\]{}()*+?.,\\\\^$|#\\s]/g;\nfunction escapeRegex(value) {\n    return value.replace(reChars, \"\\\\$&\");\n}\n/**\n * Attributes that are case-insensitive in HTML.\n *\n * @private\n * @see https://html.spec.whatwg.org/multipage/semantics-other.html#case-sensitivity-of-selectors\n */\nvar caseInsensitiveAttributes = new Set([\n    \"accept\",\n    \"accept-charset\",\n    \"align\",\n    \"alink\",\n    \"axis\",\n    \"bgcolor\",\n    \"charset\",\n    \"checked\",\n    \"clear\",\n    \"codetype\",\n    \"color\",\n    \"compact\",\n    \"declare\",\n    \"defer\",\n    \"dir\",\n    \"direction\",\n    \"disabled\",\n    \"enctype\",\n    \"face\",\n    \"frame\",\n    \"hreflang\",\n    \"http-equiv\",\n    \"lang\",\n    \"language\",\n    \"link\",\n    \"media\",\n    \"method\",\n    \"multiple\",\n    \"nohref\",\n    \"noresize\",\n    \"noshade\",\n    \"nowrap\",\n    \"readonly\",\n    \"rel\",\n    \"rev\",\n    \"rules\",\n    \"scope\",\n    \"scrolling\",\n    \"selected\",\n    \"shape\",\n    \"target\",\n    \"text\",\n    \"type\",\n    \"valign\",\n    \"valuetype\",\n    \"vlink\",\n]);\nfunction shouldIgnoreCase(selector, options) {\n    return typeof selector.ignoreCase === \"boolean\"\n        ? selector.ignoreCase\n        : selector.ignoreCase === \"quirks\"\n            ? !!options.quirksMode\n            : !options.xmlMode && caseInsensitiveAttributes.has(selector.name);\n}\n/**\n * Attribute selectors\n */\nexports.attributeRules = {\n    equals: function (next, data, options) {\n        var adapter = options.adapter;\n        var name = data.name;\n        var value = data.value;\n        if (shouldIgnoreCase(data, options)) {\n            value = value.toLowerCase();\n            return function (elem) {\n                var attr = adapter.getAttributeValue(elem, name);\n                return (attr != null &&\n                    attr.length === value.length &&\n                    attr.toLowerCase() === value &&\n                    next(elem));\n            };\n        }\n        return function (elem) {\n            return adapter.getAttributeValue(elem, name) === value && next(elem);\n        };\n    },\n    hyphen: function (next, data, options) {\n        var adapter = options.adapter;\n        var name = data.name;\n        var value = data.value;\n        var len = value.length;\n        if (shouldIgnoreCase(data, options)) {\n            value = value.toLowerCase();\n            return function hyphenIC(elem) {\n                var attr = adapter.getAttributeValue(elem, name);\n                return (attr != null &&\n                    (attr.length === len || attr.charAt(len) === \"-\") &&\n                    attr.substr(0, len).toLowerCase() === value &&\n                    next(elem));\n            };\n        }\n        return function hyphen(elem) {\n            var attr = adapter.getAttributeValue(elem, name);\n            return (attr != null &&\n                (attr.length === len || attr.charAt(len) === \"-\") &&\n                attr.substr(0, len) === value &&\n                next(elem));\n        };\n    },\n    element: function (next, data, options) {\n        var adapter = options.adapter;\n        var name = data.name, value = data.value;\n        if (/\\s/.test(value)) {\n            return boolbase_1.falseFunc;\n        }\n        var regex = new RegExp(\"(?:^|\\\\s)\".concat(escapeRegex(value), \"(?:$|\\\\s)\"), shouldIgnoreCase(data, options) ? \"i\" : \"\");\n        return function element(elem) {\n            var attr = adapter.getAttributeValue(elem, name);\n            return (attr != null &&\n                attr.length >= value.length &&\n                regex.test(attr) &&\n                next(elem));\n        };\n    },\n    exists: function (next, _a, _b) {\n        var name = _a.name;\n        var adapter = _b.adapter;\n        return function (elem) { return adapter.hasAttrib(elem, name) && next(elem); };\n    },\n    start: function (next, data, options) {\n        var adapter = options.adapter;\n        var name = data.name;\n        var value = data.value;\n        var len = value.length;\n        if (len === 0) {\n            return boolbase_1.falseFunc;\n        }\n        if (shouldIgnoreCase(data, options)) {\n            value = value.toLowerCase();\n            return function (elem) {\n                var attr = adapter.getAttributeValue(elem, name);\n                return (attr != null &&\n                    attr.length >= len &&\n                    attr.substr(0, len).toLowerCase() === value &&\n                    next(elem));\n            };\n        }\n        return function (elem) {\n            var _a;\n            return !!((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.startsWith(value)) &&\n                next(elem);\n        };\n    },\n    end: function (next, data, options) {\n        var adapter = options.adapter;\n        var name = data.name;\n        var value = data.value;\n        var len = -value.length;\n        if (len === 0) {\n            return boolbase_1.falseFunc;\n        }\n        if (shouldIgnoreCase(data, options)) {\n            value = value.toLowerCase();\n            return function (elem) {\n                var _a;\n                return ((_a = adapter\n                    .getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.substr(len).toLowerCase()) === value && next(elem);\n            };\n        }\n        return function (elem) {\n            var _a;\n            return !!((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.endsWith(value)) &&\n                next(elem);\n        };\n    },\n    any: function (next, data, options) {\n        var adapter = options.adapter;\n        var name = data.name, value = data.value;\n        if (value === \"\") {\n            return boolbase_1.falseFunc;\n        }\n        if (shouldIgnoreCase(data, options)) {\n            var regex_1 = new RegExp(escapeRegex(value), \"i\");\n            return function anyIC(elem) {\n                var attr = adapter.getAttributeValue(elem, name);\n                return (attr != null &&\n                    attr.length >= value.length &&\n                    regex_1.test(attr) &&\n                    next(elem));\n            };\n        }\n        return function (elem) {\n            var _a;\n            return !!((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.includes(value)) &&\n                next(elem);\n        };\n    },\n    not: function (next, data, options) {\n        var adapter = options.adapter;\n        var name = data.name;\n        var value = data.value;\n        if (value === \"\") {\n            return function (elem) {\n                return !!adapter.getAttributeValue(elem, name) && next(elem);\n            };\n        }\n        else if (shouldIgnoreCase(data, options)) {\n            value = value.toLowerCase();\n            return function (elem) {\n                var attr = adapter.getAttributeValue(elem, name);\n                return ((attr == null ||\n                    attr.length !== value.length ||\n                    attr.toLowerCase() !== value) &&\n                    next(elem));\n            };\n        }\n        return function (elem) {\n            return adapter.getAttributeValue(elem, name) !== value && next(elem);\n        };\n    },\n};\n"]},"metadata":{},"sourceType":"script"}